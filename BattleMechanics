import java.util.Scanner;
import java.util.Random;

public class rpgTrial1{
    static int php;
    static int ehp;
    static int patk;
    static int eatk;
    static int maxBlock;
    static int block;
    static int sp;


    //function not working for now
    public static void hpDisplay(){
        int php = 100;
        int ehp = 30;
        System.out.println("Your health is " + php);
        System.out.println("Enemy health is " + ehp);
    }
    
    public static void main(String[] args){
        int php = 100;
        int ehp = 30;
        int patk = 10;
        int eatk = 15;
        int sp = 10;
        

        while(true){
            System.out.println("What is your name?");
            Scanner in = new Scanner(System.in);
            String a = in.nextLine();
            System.out.print("Your name is " + a);
            System.out.print(", is that correct?");
            System.out.print(" y/n");
            String b = in.nextLine();
            if(b.equals("y")){
                break;
        }
        }

        Scanner in = new Scanner(System.in);
        System.out.println("Welcome to RPG!");
        System.out.println("Prepare for battle...");

        while(php > 0 && ehp > 0){        
            //Fixing block
            Random rand = new Random();
            int maxBlock = 15;
            int block = rand.nextInt(maxBlock);

            //Starting prompt
            System.out.println("Your health is " + php + " and stamina is " + sp);
            System.out.println("Enemy health is " + ehp);
            System.out.println("Player Turn:");
            System.out.println("1 = Attack, "+ patk + " attack, -5 stamina");
            System.out.println("2 = Block, 0-15 negated damage, +2 stamina");
            System.out.println("3 = Rest, regain all stamina");
            String atk1 = in.nextLine();

            //Attack effect
            if(atk1.equals("1")){
                ehp = ehp - patk;
                php = php - eatk;
                sp = sp - 5;
                if(sp < 0){
                    sp = 0;
                    ehp = ehp + patk;
                    System.out.println("TOO TIRED TO ATTACK!");
                }
            }
            System.out.println("Enemy turn");
            
            //Block effect
            if (atk1.equals("2")){
                php = php - eatk + block;
                System.out.print("Blocked " + block + " damage!");
                sp = sp + 2;
                if (sp > 10){
                    sp = 10;
                }
            }

            //Rest effect
            if (atk1.equals("3")){
                php = php - eatk;
                sp = 10;
            }
        }

        //Win/Loss
        if(ehp == 0){
            System.out.println("You win!");
        }
        else if (php == 0){
            System.out.println("You lose!");
        }
}
}
